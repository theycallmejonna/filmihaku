<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pimeä Kino</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="p-5 text-white text-center header">
  <h1>Pimeä Kino</h1>
  <p>Elokuvia mystisessä tunnelmassa</p> 
</div>

<nav class="navbar navbar-expand-sm navbar-dark bg-black">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" href="index.html">Etusivu</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="elokuvat.html">Elokuvat</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Liput</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Yhteystiedot</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container mt-5">
  <h2 class="text-center text-white">Suosituimmat elokuvat juuri nyt</h2>
  <div id="movies" class="row mt-3"></div>
</div>

<div class="mt-5 p-4 footer">
  <p>&copy; 2024 Pimeä Kino | Kaikki oikeudet pidätetään</p>
</div>

<script>
  const TMDB_API_KEY = 'YOUR_TMDB_API_KEY'; // Korvaa omalla TMDb API-avaimellasi

  document.addEventListener("DOMContentLoaded", function() {
      fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${TMDB_API_KEY}&language=fi-FI&page=1`)
          .then(response => response.json())
          .then(data => {
              const movieContainer = document.getElementById('movies');
              movieContainer.innerHTML = '';
              
              if (data.results) {
                  data.results.slice(0, 3).forEach(movie => {
                      const poster = movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : 'https://via.placeholder.com/300x450?text=No+Image';
                      const movieCard = `
                          <div class="col-md-4 mb-4">
                              <div class="card movie-card">
                                  <img src="${poster}" class="card-img-top" alt="${movie.title}">
                                  <div class="card-body">
                                      <h5 class="card-title">${movie.title}</h5>
                                      <p class="card-text">${movie.release_date}</p>
                                  </div>
                              </div>
                          </div>`;
                      movieContainer.innerHTML += movieCard;
                  });
              } else {
                  movieContainer.innerHTML = '<p class="text-white text-center">Ei tuloksia.</p>';
              }
          });
  });
</script>

</body>
</html>