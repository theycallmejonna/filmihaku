<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pimeä Kino - Elokuvat</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="p-5 text-white text-center header">
  <h1>Pimeä Kino - Elokuvat</h1>
  <p>Hae suosikkielokuvasi ja löydä uutta katsottavaa!</p>
</div>

<nav class="navbar navbar-expand-sm navbar-dark bg-black">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="index.html">Etusivu</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="elokuvat.html">Elokuvat</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Liput</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Yhteystiedot</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container mt-5">
  <h2 class="text-center text-white">Elokuvahaku</h2>
  <div class="input-group mb-3">
    <input type="text" id="searchInput" class="form-control" placeholder="Kirjoita elokuvan nimi...">
    <button class="btn btn-warning" onclick="searchMovies()">Hae</button>
  </div>
  <div id="movies" class="row mt-3"></div>
</div>

<div class="mt-5 p-4 footer">
  <p>&copy; 2024 Pimeä Kino | Kaikki oikeudet pidätetään</p>
</div>

<script>
  const API_KEY = '992d58ce'; // OMDb API-avain

  function searchMovies() {
      const query = document.getElementById('searchInput').value;
      if (!query) return;

      fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${query}`)
          .then(response => response.json())
          .then(data => {
              const movieContainer = document.getElementById('movies');
              movieContainer.innerHTML = '';
              
              if (data.Search) {
                  data.Search.slice(0, 3).forEach(movie => {
                      const poster = movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/300x450?text=No+Image';
                      const movieCard = `
                          <div class="col-md-4 mb-4">
                              <div class="card movie-card">
                                  <img src="${poster}" class="card-img-top" alt="${movie.Title}">
                                  <div class="card-body">
                                      <h5 class="card-title">${movie.Title}</h5>
                                      <p class="card-text">${movie.Year}</p>
                                  </div>
                              </div>
                          </div>`;
                      movieContainer.innerHTML += movieCard;
                  });
              } else {
                  movieContainer.innerHTML = '<p class="text-white text-center">Ei tuloksia.</p>';
              }
          });
  }
</script>

</body>
</html>
